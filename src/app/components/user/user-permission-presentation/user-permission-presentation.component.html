<div class="row align-items-center justify-content-between">
  <div class="col-md-auto col-sm-auto">
    <div class="content-header">
      <h1> {{'USER_PAGE_PERMISSION_TO' | translate }} : <span class="text-info">{{user?.firstName}}
          {{user?.lastName}}</span></h1>
    </div>
  </div>
</div>
<div class="box box-primary">
  <div class="box-body">
    <div class="row align-items-center">
      <div class="col-md-4 col-sm-12">
        <h4 class="widget-title">{{'PERMISSION' | translate }}</h4>
      </div>
    </div>
    <table class="table table-bordered">
      <thead>
        <tr>
          <th>Key(Url)</th>
          <th *ngFor='let action of actions' scope="col">
            {{action.name}}
          </th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor='let page of pages'>
          <td>
            {{page.name}} ({{page.url}})
          </td>
          <td *ngFor='let action of actions'>
            <div *ngIf="checkPageAction(page.id,action.id)">
              <mat-slide-toggle [checked]="checkPermission(page.id,action.id)"
                (change)="onPermissionChange($event,page,action)">
              </mat-slide-toggle>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
    <div class="m-top-10">
      <button *hasClaim="'user_permission_edit'" class="btn btn-success btn-sm m-right-10" (click)="saveUserClaim()"
        cdkFocusInitial><i class="fas fa-save"></i> Save</button>
      <a class="btn btn-danger btn-sm" [routerLink]="['/admin/users']"><i class="fas fa-times-circle"></i> Cancel</a>
    </div>
  </div>
</div>
